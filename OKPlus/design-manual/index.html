<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>On Key Plus</title>
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="./styles/desktop.css" media="screen and (min-width: 1200px)" async>
    <link rel="stylesheet" href="./styles/mobile.css" media="screen and (max-width: 500px)" async>
   
</head>
<body>
    <pragma-clipboard></pragma-clipboard>
    <pragma-icons></pragma-icons>
    <pr-appbar title="On Key Plus" src="./app/app-bar.json"></pr-appbar>

    <pr-menu hidden src="./app/menu-items.json"></pr-menu>

    <div class="main-container">
        <div class="main assistant-margin" role="main">
            <view-container  id="main-view" class="main"></view-container>
            <pragma-dialogs class="dialog"></pragma-dialogs>
        </div>

        <pragma-assistant></pragma-assistant>
        <pragma-messages></pragma-messages>
        <pragma-navigator></pragma-navigator>
        
    </div>

</div>
    
    <script async defer type="module" src="./bootstrap/boot-events.js"></script>

    <script type="module">
        import "./bootstrap/boot-events.js";
        import "./bootstrap/boot-properties-panel.js";
        import "./bootstrap/boot-datasource-manager.js";
        import "./bootstrap/boot-loader.js";
        import "./bootstrap/boot-behaviours.js";
        import "./bootstrap/boot-components.js";
        import "./bootstrap/boot-converters.js";
        import "./bootstrap/boot-translations.js";
        import "./bootstrap/boot-webworkers.js";
        import "./bootstrap/boot-dialog-manager.js";
        import "./bootstrap/boot-ui-graph.js";
        import "./bootstrap/boot-custom-events.js";
        import "./bootstrap/boot-screen-observer.js";
        import "./bootstrap/boot-colors.js";
        import "./index.js";

        import {Bootloader} from "./lib/constants.js" 
        import "./node_modules/pragma-views2/baremetal/components/use-css/use-css.js";
        window.eventEmitter.emit("progress", Bootloader.componentCss);

        import "./node_modules/pragma-views2/baremetal/components/view-container/view-container.js";
        window.eventEmitter.emit("progress", Bootloader.viewContainer);

        import "./node_modules/pragma-views2/baremetal/components/route-listener/route-listener.js";
        window.eventEmitter.emit("progress", Bootloader.routeListener);
    </script>
    
    <pragma-tooltip></pragma-tooltip>
    <route-listener view-container="main-view" src="./app/routes.json"></route-listener>
    <pragma-context-menu></pragma-context-menu>

    <div class="loading" style="position: fixed; top: 0; width: 100%; height: 100%; background: var(--color-brand-dark); z-index: 9999">
        <h1 style="width: 100%; text-align: center; color: var(--color-ui-4)">Please wait while loading program</h1>
    </div>
    
    <script type="text/javascript">
        if(document.head === undefined || document.head.shadowRoot === undefined) {
            //Using var. Do not remove as IE fails on const or let
            var content = '<div class="unsupported-browser"><p>This browser is not supported.  <br>Please use Chrome version 64 or later.</p></div>';
            document.getElementsByTagName('body')[0].innerHTML = content;
        }
    </script>
</body>
</html>