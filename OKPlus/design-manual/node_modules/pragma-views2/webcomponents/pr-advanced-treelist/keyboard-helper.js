import {KeyboardHelperBase} from "./../lib/keyboard-helper-base.js";
import {ScrollDirection} from "../lib/scroll-direction.js";

export class KeyboardHelper extends KeyboardHelperBase {
    async ArrowLeft() {
        const collapsed = await this._target.navigation.collapse(this._target.focus.index);
        if (collapsed === true) {
            this._target.focus.focus();
        } else {
            const parentIndex = this._target.navigation.getParentIndex(this._target.focus.index);
            if (parentIndex !== -1) {
                this._target.focus.index = parentIndex;
                await this._target.scrollAndFocus(ScrollDirection.Top, ScrollDirection.Left);
            }
        }
    }

    async ArrowRight() {
        const expanded = await this._target.navigation.expand(this._target.focus.index);
        if (expanded === true) {
            await this.ArrowDown();
        } else {
            await this._target.scrollAndFocus(ScrollDirection.Bottom, ScrollDirection.Left);
        }
    }
}