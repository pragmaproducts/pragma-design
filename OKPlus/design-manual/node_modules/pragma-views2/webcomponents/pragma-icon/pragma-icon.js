import {BaseElement} from "./../../baremetal/lib/base-element.js";

export class PragmaIcon extends BaseElement {
    get icon() {
        return this._icon || this.getAttribute("icon");
    }

    set icon(newValue) {
        this._icon = newValue;
        this.innerHTML = `<svg><use xlink:href="#${newValue}"></use></svg>`
    }

    connectedCallback() {
        super.connectedCallback();
        this.icon = this.getAttribute("icon");
    }

    attributeChangedCallback(name, oldValue, newValue) {
        if (newValue != null) {
            this.icon = newValue;    
        } 
    }
    
    static get observedAttributes() { return ['icon']; }
}

customElements.define('pragma-icon', PragmaIcon);
