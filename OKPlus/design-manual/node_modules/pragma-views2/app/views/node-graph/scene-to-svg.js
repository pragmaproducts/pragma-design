const nodeDimentions = new Map([
    ["(", {width: 24}],
    [")", {width: 24}],
    ["*", {width: 24}],
    ["/", {width: 24}],
    ["gt", {width: 48}]
]);

export function sceneGraphToSVG(svg, sceneGraph) {
    const offset = 20;
    let x = 20;

    for (let node of sceneGraph.nodes) {
        const nodeType = node.constructor.name;
        let width = 100;
        const height = 24;

        if (nodeType == "SceneNode") {
            if(nodeDimentions.has(node.value)) {
                width = nodeDimentions.get(node.value).width;
            }
        }

        const group = svg.append("g");
        group
            .append("rect")
            .attr("x", `${x}px`)
            .attr("y", `100px`)
            .attr("fill", "silver")
            .attr("width", `${width}px`)
            .attr("height", `${height}px`);

        group.append("text")
            .attr("x", `${x + 8}px`)
            .attr("y", `116px`)
            .attr("font-size", `16px`)
            .text(node.value);

        x += width + offset;
    }
}