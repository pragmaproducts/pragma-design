import { ViewBase } from "./../../../baremetal/lib/view-base.js";
import { template } from "./schema.js";
import { cloneObject } from "../../../baremetal/lib/class-helper.js";
import { DatasetFactory } from "./../../../lib/dataset-factory.js";
import { performTriggersFor } from "../../../baremetal/lib/binding/observers.js";

export default class SchemaTreeListView extends ViewBase {
    constructor() {
        super();
        this.context = this;
        this.schema = cloneObject(template);
    }

    connectedCallback() {

    }

    disconnectedCallback() {
   
    }

    schemaLoaded() {
        const options = {
            schema: this.schema
        };

        this.dsFactory = new DatasetFactory(options);
        this.model = this.dsFactory.createDataSet(0, {}, this.model, "ONE");

        performTriggersFor(this.model);
    }
}