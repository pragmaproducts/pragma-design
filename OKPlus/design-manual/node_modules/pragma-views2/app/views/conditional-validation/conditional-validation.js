import {ViewBase} from "../../../baremetal/lib/view-base.js";
import {template} from "./schema.js";
import {cloneObject} from "../../../baremetal/lib/class-helper.js";
import {DatasetFactory} from "../../../lib/dataset-factory.js";

export default class CustomValidation extends ViewBase {
    constructor() {
        super();
        this.remoteName = "Complete";
        this.context = this;
        this.schema = cloneObject(template);
    }

    schemaLoaded(event) {
        const options = {
            schema: this.schema
        };

        this.dsFactory = new DatasetFactory(options);
        this.model = this.dsFactory.createDataSet(0, {}, this.model, this.remoteName);
    }

    debug() {
        console.log(this.model.raw());
    }
}