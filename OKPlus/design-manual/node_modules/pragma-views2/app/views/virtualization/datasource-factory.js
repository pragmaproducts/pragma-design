import {RemoteDatasource} from "./../../../lib/remote-datasource.js";
import {createLargeFlatListData, createLargeHierarchicalData} from "./data.js";

const schema = {
    datasources: [
        {
            "id": 0,
            "remote": "something",
            "hierarchical": true
        }
    ]
};

export function createDatasource(remoteCallback) {
    const result = new RemoteDatasource({
        definition: schema.datasources[0],
        schema: schema,
        remoteCallback: async () => {
            if (schema.datasources[0].hierarchical === true) {
                return await createLargeHierarchicalData();
            } 
            else {
                return await createLargeFlatListData();
            }
        }
    });
    return result;
}