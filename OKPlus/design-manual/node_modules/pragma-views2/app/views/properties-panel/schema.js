export const template =
{
    "resource": "site",
    "type": "view",
    "variables": {
        "messages": {
            "mustBeActive": "can't do this on code 'code 1'"    
        },
        "titles": {
            "heading": "Complete Example",
            "header": "Header",
            "code": "Code",
            "description": "Description",
            "list": "List",
            "overview": "Overview",
            "graphics": "Graphics",
            "details": "Details",
            "parent": "Parent",
            "models": "Models",
            "makes": "Makes",
            "siteCode": "Site",
            "remoteForm": "Remote Form",
            "duration": "Duration"
        },
        "ui": {
            "isMasterVisible": true
        }
        ,
        "parameters": {
            "assetCode": 12354
        }
    },
    "perspectives": [
        {
            "id": 0,
            "id-field": "id",
            "data": {
                "cache": "detail-lookup",
                "aggregate": "count",
                "sorting": {
                    "code": "ascending"
                }
            }
        }
    ],
    "previews": [
        {
            "id": 0,
            "remote": "Site",
            "dataset-field": "siteId",
            "lookup-field": "id"
        }
    ],
    "lookups": [
        {
            "id": 0,
            "name": "Site Lookup",
            
            "mapping": {
                "siteId": "id",
                "siteCode": "code",
                "siteDescription": "description"
            },
            "perspective": 0,
            "template": 500,
            "datasource": 4
        }
    ],
    "customActionTriggers": [
        {
            "trigger": "model.detailSelectedId",
            "actions": [
                {
                    "action": "print",
                    "parameters": {
                        "selected details": "model.detailSelectedId"
                    }
                }
            ]
        },
        {
            "trigger": "model.selectedId",
            "actions": [
                {
                    "action": "setValue",
                    "condition": "isMobile == true",
                    "parameters": {
                        "@ui.isMasterVisible": false
                    }
                }
            ]
        },
        {
            "trigger": "model.data.make",
            "actions": [
                {
                    "action": "setValue",
                    "parameters": {
                        "model.data.model": 0
                    }
                }
            ]
        }
    ],
    "customActionEvents": [
        {
            "event": "model.data.make == 1",
            "actions": [
                {
                    "action": "setValidation",
                    "parameters": {
                        "model.data.code": "required",
                        "model.data.description": ["required", "maxlength = 5"]
                    }
                }
            ]
        }
    ],
    "datasets": [
        {
            "id": 0,
            "name": "model",
            "fields": [
                {
                    "name": "selectedId",
                    "default": 0
                },
                {
                    "name": "detailSelectedId",
                    "default": []
                },
                {
                    "name": "data",
                    "dataset": 1,
                    "listen-for": "selectedId"
                },
                {
                    "name": "site",
                    "dataset": 2,
                    "listen-for": "selectedId"
                },
                {
                    "name": "listItems",
                    "collection": true,
                    "datasource": 0
                },
                {
                    "name": "details",
                    "collection": true,
                    "datasource": 1,
                    "listen-for": "selectedId"
                },
                {
                    "name": "makes",
                    "collection": true,
                    "datasource": 2
                },
                {
                    "name": "models",
                    "collection": true,
                    "datasource": 3,
                    "listen-for": "data.make"                    
                }
            ]
        },
        {
            "id": 1,
            "name": "data",
            "fields": [
                {
                    "name": "id"
                },
                {
                    "name": "code"
                },
                {
                    "name": "description"
                },
                {
                    "name": "duration",
                    "converter": "duration"
                },
                {
                    "name": "make"
                },
                {
                    "name": "model"
                },
                {
                    "name": "siteCode",
                    "lookup": 0
                    
                },
                {
                    "name": "assetCode",
                    "default": "@parameters.assetCode"
                }
            ],
            "primaryActions": {
                "load": {
                    "parameters": {
                        "id": "viewModel.model.selectedId"    
                    }
                }
            }
        },
        {
            "id": 2,
            "name": "site",
            "fields": [
                {
                    "name": "id",
                    "default": 0
                },
                {
                    "name": "code",
                    "default": "Site Code 1"
                }
            ]
        }
    ],
    "datasources": [
        {
            "id": 0,
            "remote": "list-items"
        },
        {
            "id": 1,
            "remote": "details"
        },
        {
            "id": 2,
            "resource": [
                {
                    "id": 1,
                    "title": "Ford"
                },
                {
                    "id": 2,
                    "title": "Mazda"
                },
                {
                    "id": 3,
                    "title": "Toyota"
                }
            ]
        },
        {
            "id": 3,
            "remote": "models",
            "delay-fetch": true
        },
        {
            "id": 4,
            "resource": [
                {
                    "id": 0,
                    "code": "Item 1",
                    "description": "Item 1 Description"
                },
                {
                    "id": 1,
                    "code": "Item 2",
                    "description": "Item 2 Description"
                },
                {
                    "id": 2,
                    "code": "Item 3",
                    "description": "Item 3 Description"
                },
                {
                    "id": 4,
                    "code": "Item 4",
                    "description": "Item 4 Description"
                },
                {
                    "id": 5,
                    "code": "Item 5",
                    "description": "Item 5 Description"
                },
                {
                    "id": 6,
                    "code": "Item 6",
                    "description": "Item 6 Description"
                },
                {
                    "id": 7,
                    "code": "Item 7",
                    "description": "Item 7 Description"
                },
                {
                    "id": 8,
                    "code": "Item 8",
                    "description": "Item 8 Description"
                },
                {
                    "id": 9,
                    "code": "Item 9",
                    "description": "Item 9 Description"
                },
                {
                    "id": 10,
                    "code": "Item 10",
                    "description": "Item 10 Description"
                },
                {
                    "id": 11,
                    "code": "Item 11",
                    "description": "Item 11 Description"
                }
            ],
            "delay-fetch": true,
            "perspective": {
                "cache": "lookup-details",
                "perspectives": [0]
            }
        }
    ],
    "actions": [
        {
            "id": 100,
            "action": "context.debug"
        },
        {
            "id": 200,
            "action": "setVariable",
            "parameters": {
                "name": "ui.isMasterVisible",
                "value": true
            }
        },
        {
            "id": 300,
            "action": "context.save",
            "parameters": {
                "activity-id": 1
            },
            "conditional": [
                {
                    "expression": "model.data.code != 'code 1'",
                    "message": "@messages.mustBeActive"
                },
                {
                    "expression": "model.data.id != 1",
                    "message": "Please choose something else"
                }
            ],
            "confirmation": [
                {
                    "expression": "model.data.code == 'code 3'",
                    "message": "do you want to save code 3?"
                },
                {
                    "expression": "model.data.code == 'code 4'",
                    "message": "do you want to save code 4?"
                },
                {
                    "message": "do something"
                }
            ]
        }
    ],
    "templates": [
        {
            "id": 0,
            "name": "body template for edit",
            "elements": [
                {
                    "element": "group",
                    "title": "@titles.header",
                    "elements": [
                        {
                            "element": "input",
                            "title": "id",
                            "field": "model.data.id"
                        },
                        {
                            "element": "conditional-container",
                            "elements": [
                                {
                                    "element": "input",
                                    "title": "@titles.code",
                                    "field": "model.data.code"
                                }
                            ],
                            "attributes": {
                                "delay": "2000",
                                "visible.bind": "model.data.code != 'code 1'"
                            }
                        },
                        {
                            "element": "input",
                            "title": "@titles.description",
                            "field": "model.data.description"
                        },
                        {
                            "element": "input",
                            "title": "@titles.duration",
                            "field": "model.data.duration",
                            "attributes": {
                                "pattern": "[0-9]{2}:[0-9]{2}",
                                "placeholder": "hh:mm"
                            }
                        },
                        {
                            "element": "select",
                            "title": "@titles.makes",
                            "field": "model.data.make",
                            "datasource": "model.makes"
                        },
                        {
                            "element": "select",
                            "title": "@titles.models",
                            "datasource": "model.models",
                            "field": "model.data.model"
                        },
                        {
                            "element": "input",
                            "title": "@titles.siteCode",
                            "field": "model.data.siteCode"
                        },
                        {
                            "element": "div",
                            "styles": ["toolbar", "right"],
                            "elements": [
                                {
                                    "element": "action-button",
                                    "title": "Save",
                                    "action": 300,
                                    "styles": ["primary"]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "id": 1,
            "name": "overview template",
            "elements": [
                {
                    "element": "panel-bar",
                    "title": "@titles.details",
                    "styles": "fullheight",
                    "elements": [
                        {
                            "element": "template",
                            "template": 0
                        }
                    ],
                    "actions": [
                        {
                            "element": "button",
                            "title": "List",
                            "styles": ["aux"],
                            "action": 200
                        }
                    ]
                }
            ]
        },
        {
            "id": 2,
            "name": "details template",
            "elements": [
                {
                    "element": "pragma-grid",
                    "elements": [
                        {
                            "element": "pragma-grid-column",
                            "attributes": {
                                "field": "detailCode",
                                "title": "@titles.parent",
                                "data-width": 100
                            }
                        },
                        {
                            "element": "pragma-grid-column",
                            "attributes": {
                                "field": "code",
                                "title": "@titles.code",
                                "data-width": 100
                            }
                        },
                        {
                            "element": "pragma-grid-column",
                            "attributes": {
                                "field": "description",
                                "title": "@titles.description",
                                "data-width": 100
                            }
                        }
                    ],
                    "attributes": {
                        "datasource.bind": "model.details",
                        "selection": "multiple",
                        "selected-id.bind": "model.detailSelectedId",
                        "id-field": "id"
                    }
                }
            ]
        },
        {
            "id": 3,
            "name": "graphics template",
            "elements": [
                {
                    "element": "pragma-chart",
                    "attributes": {
                        "datasource.bind": "model.details",
                        "padding": "30, 30, 50, 70"
                    },
                    "elements": [
                        {
                            "element": "band-axis",
                            "attributes": {
                                "field": "code",
                                "scale-padding": "0.1",
                                "axis": "x"
                            }
                        },
                        {
                            "element": "linear-axis",
                            "attributes": {
                                "field": "value",
                                "axis": "y"
                            }
                        },
                        {
                            "element": "bar-chart"
                        }
                    ]
                }
            ]
        },
        {
            "id": 4,
            "name": "remote form template",
            "elements": [
                {
                    "element": "pragma-form",
                    "attributes": {
                        "id": "test-form",
                        "remote": "Site",
                        "type": "view",
                        "model.bind": "model.site"
                    }
                }
            ]
        },
        {
            "id": 100,
            "name": "list items template",
            "elements": [
                {
                    "element": "div",
                    "content": "#item.code"
                },
                {
                    "element": "div",
                    "content": "#item.description"
                }
            ]
        },
        {
            "id": 500,
            "name": "Lookup template",
            "elements": [
                {
                    "element": "pragma-grid",
                    "elements": [
                        {
                            "element": "pragma-grid-column",
                            "attributes": {
                                "field": "code",
                                "title": "code"
                            }
                        },
                        {
                            "element": "pragma-grid-column",
                            "attributes": {
                                "field": "description",
                                "title": "description"
                            }
                        },
                        {
                            "element": "pragma-grid-column",
                            "attributes": {
                                "field": "id",
                                "title": "id"
                            }
                        }
                    ],
                    "attributes": {
                        "selection": "single",
                        "id-field": "id",
                        "datasource.bind": "context.datasource",
                        "selected-id.bind": "context.selectedId",
                        "perspective": 0
                    }
                }
            ]
        }
    ],
    "body": {
        "elements": [
            {
                "element": "master-detail",
                "attributes": {
                },
                "master": [
                    {
                        "element": "panel-bar",
                        "title": "@titles.list",
                        "styles": "fullheight",
                        "elements": [
                            {
                                "element": "list",
                                "datasource": "model.listItems",
                                "template": 100,
                                "attributes": {
                                    "selected-id.bind": "model.selectedId",
                                  
                                }
                            }
                        ],
                        "actions": [
                            {
                                "element": "button",
                                "title": "Debug",
                                "styles": ["aux"],
                                "action": 100
                            }
                        ]
                    }
                ],
                "detail": [
                    {
                        "element": "tabsheet",
                        "elements": [
                            {
                                "id": "overview",
                                "title": "@titles.overview",
                                "template": 1
                            },
                            {
                                "id": "details",
                                "title": "@titles.details",
                                "template": 2
                            },
                            {
                                "id": "graphics",
                                "title": "@titles.graphics",
                                "template": 3
                            }
                           
                        ]
                    }
                ]
            }
        ]
    }
};