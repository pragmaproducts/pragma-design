@import "../lib/variables";
@import "../lib/mixins";

:host {
  display: flex;
  width: 100%;
  height: 100%;
  flex: 1;
  overflow: hidden;
  
  .master {
    position: relative;
    display: block;
    width: 20rem;
    will-change: transform;
    @include slideAnimation;
  }

  .detail {
    flex: 1;
  }

  .md-splitter {
    display: flex;
    align-items: center;
    margin: 0 $md-splitter-offset-margin;
    z-index: 1;

    svg {
      height: 1.5rem;
      width: 1rem;
      margin-left: .25rem;
      &:hover {
        cursor: pointer;
      }
    }
  }
}

:host(.master-closed) {
  
  .master {
    display: none;
  }

  .md-splitter {
    margin: 0 -1rem 0 0;


    svg {
      height: 1.5rem;
      width: 1rem;
    }
  }
}


::slotted([slot='master']), ::slotted([slot='detail']) {
  height: 100%;
  display: flex;
  flex-direction: column;
  margin-left: 0.5rem;
}

// JHR: temp for testing purposes.
// Gerhard please remove once the interaction works on mobile as expected.
.master-closed {
  background: coral;
}

.master, .detail {
  height: 100%;
  //margin:  $default-margin;
  > div {
    width: 100%;
    height: 100%;
    @include flex();
    @include flex-column();
    @include overflow-scroll(auto, touch);
  }

}

.master-out {
  @include translateX(-100%);
}

:not(.master-out) {
  @include translateX(0);
}

@media screen and (max-width: 500px) {
  :host {
    .detail {
      display: none;
    }
    .md-splitter {
      margin: 0 0rem 0 -.75rem;

      svg {
        margin-left:0;
      }
    }
  }
  
  :host(.master-closed) {
    .detail {
      display: block;
    }
    .md-splitter {
      margin: 0 -1rem 0 0rem;
      z-index: 1;
    }
  }
  
  .master {
    flex: 1;
  }

  .md-splitter {
    z-index: 1;
  }
}

