import {createElement} from "./dom-helper.js";

export function enableAnimationLayer() {
    if (document.animationLayer != null) {
        return showAnimationLayer();
    }

    createAnimationLayer();
    
    return document.animationLayer;
}

export function disableAnimationLayer() {
    document.animationLayer.onmousemove = null;
    document.animationLayer.onmouseup = null;
    document.animationLayer.onmousedown = null;

    while (document.animationLayer.firstChild != null) {
        document.animationLayer.removeChild(document.animationLayer.firstChild);
    }

    document.body.removeChild(document.animationLayer);
}

function showAnimationLayer() {
    document.body.appendChild(document.animationLayer);
    return document.animationLayer;
}

function createAnimationLayer() {
    document.animationLayer = createElement("div", ["animation-layer"]);
    showAnimationLayer();
}