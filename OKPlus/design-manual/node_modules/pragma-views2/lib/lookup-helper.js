import {findParentOfType} from './dom-helper.js';
import {ValidationDom} from './validation-dom.js';

export class LookupHelper {
    static updateLookupInputs(dataset) {
        if (dataset["__definition"] == undefined) {
            return;
        }

        const fields = dataset["__definition"].fields.filter(item => item.lookup != undefined);

        for (let field of fields) {
            const element = ValidationDom.getUIElement(field.name, dataset);
            const inputCompositeElement = findParentOfType(element, "input-composite - to be deleted");
            const viewModel = inputCompositeElement.au["input-composite - to be deleted"].viewModel;
            viewModel.model = dataset;
            viewModel.lookup = field.name;
        }
    }
}