import {getElementBounds} from "./../../../lib/dom-helper.js";

describe("dom-helper-tests", () => {
    let element = {
        offsetLeft: 100,
        clientLeft: 50,
        scrollLeft: 25,
        offsetTop: 100,
        clientTop: 50,
        scrollTop: 25,
        offsetWidth: 50,
        offsetParent: {
            offsetLeft: 100,
            clientLeft: 50,
            scrollLeft: 25,
            offsetTop: 100,
            clientTop: 50,
            scrollTop: 25,
            offsetWidth: 100
        }
    };


    it('getElementBounds - calculate position of element', () => {
        // Arrange
        const parentLeftValue = element.offsetParent.offsetLeft - element.offsetParent.scrollLeft + element.offsetParent.clientLeft;
        const leftValue = element.offsetLeft - element.scrollLeft + element.clientLeft +  parentLeftValue;

        const parentTopValue = element.offsetParent.offsetTop - element.offsetParent.scrollTop + element.offsetParent.clientTop;
        const topValue = element.offsetTop - element.scrollTop + element.clientTop + parentTopValue;
        
        // Act
        const bounds = getElementBounds(element);
        
        // Assert
        chai.assert.isNotNull(bounds);
        chai.assert.equal(leftValue, bounds.left, "Left value should equal bounds left");
        chai.assert.equal(topValue, bounds.top, "Top value should equal bounds top");
        chai.assert.equal(element.offsetWidth, bounds.width, "Width value should equal bounds width");
    });
});
