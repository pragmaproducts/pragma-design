#Advanced tree visualization   
##Component
The advanced tree visualization  is used to display hierarchical information and thus will use the hierarchical renderer.
The component must use the virtualization standards that we use on the advanced grid. 
The componet must support the following general features
1. Different templates based on a JS expression.
2. Adding/updating/deleting items.
3. Filtertering
4. Selection. 
    1. Note Selection will only work if the children has been loaded from remote.
    2. Chat to JR about how to handle selection if the types of nodes are different. We do not wan't mixed ids in our selected id.
We might have to change selection on dataSource to be object based instead of id's only
5. Accessible and responsive
6. Support loading children remotely with indicator
7. Loading indicator for startup and filtering
8. Keyboard support

## Usage
```html
    <pragma-advanced-tree datasource.bind="datasource" count.bind="count" selection="multiple">
        <template  condition="item.id <= 15">
            <div>#item.code</div>        
            <div>#item.description</div>        
        </template>
        <template  condition="item.type == 'test' && item.id > 15">
            <div>#item.code</div>        
            <div>#item.description</div>        
        </template>
        <pragma-conditional-formatter condition="item.id < 15" style-property="color" value="hotpink"></pragma-conditional-formatter>
    </pragma-advanced-grid>

```
## Rendering
### Templating
The templates will be loaded on connectedCallback and stored in a map with the condition as the key. 
Inflator functions will be created for each template and will be evaluted from the top down.

```js
// Pseudo code - setting item 
const condition = "item.id > 15";
const template = "<div>#item.code</div>"
const inflateFn = createInflatorFunction(template);
const conditionFn = new Function(item, condition);
this.templates.push({
    store: store,
    inflateFn: inflateFn,
    defaultFn: defaultFn,
    item: item,
})

// Pseudo code - evaluating item
for(const item of items) {
    for(const template of this.templates) {
        if(template.conditionFn(item)) {
            return template.inflateFn(item);
        }
    }    
}

``` 

## Schema example
```json
{
  "element": "pragma-advanced-tree",
  "templates": [
    {
        "condition": "item.id <= 15",
        "elements": [
          {
            "elements": "div",
            "content": "#item.code"
          },
          {
            "elements": "div",
            "content": "#item.description"
          }
        ]
    }],
    "formatters": [
      {
        "condition": "item.id < 15",
        "property": "background",
        "remote": "",
        "value": "silver"
      },
      {
        "condition": "item.id > 100 && item.id < 150",
        "property": "color",
        "value": "hotpink"
      }
    ]
}
```

## Accessibility
Follow the w3 treeview accessibility standards
https://www.w3.org/TR/wai-aria-practices/examples/treeview/treeview-2/treeview-2a.html

## Keyboard navigation
