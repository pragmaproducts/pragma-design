# Value Converters

This document will deal with value converters, how it works, hot to define them and use them.
This document will assume you know what a value converter is.

## Converter

The converter is a simple class that has two functions.

1. convert
1. convertBack

The convert function is used when requesting the property from the dataset.
ConvertBack is used when setting a property on the function.

## Location

Value converters are generally found in the folder path:  
`pragma-views2/baremetal/lib/converters/`

If you define a generic reusable converter you can add your converter there.
If however you create a value converter for your custom project you can add it where defined by the application specification.

## Registering a converter

We do not assume that you will always want to use a converter in your project.
If you do wish to use a converter, you can just create a new instance as required.

Converters need to be registered on a dataset and placed in a property called "__converters".
This property is a map where the field name is the key and a instance of the converter is the value.

Normally you would use the dataset from a schema though and if that is the case you don't need to do any of these manual steps.
You do however need to register the converter during the boot process.

See the following file in pragma-views-2:  
`pragma-views2/bootstrap/boot-converters.js`

The key you use must be the same as the key you use in the schema.  

## Schema

A converter is defined on a dataset's field.  
Using the converter property, provide the key of the converter.

```
{
    "name": "duration",
    "converter": "duration"
}
```

Note how this is the same key as defined in the boot process.

When the dataset is created it will see that this field has a converter and create a instance of the converter for that field and add it to the dataset's "__converters" property.

## Summary

1. Define converter
2. Register converter during the boot process
3. Define the converter on the field that must be converted in the schema.

See the complete view as a example using the duration converter.
