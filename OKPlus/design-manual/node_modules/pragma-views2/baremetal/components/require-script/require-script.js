import { loadScript } from "../../lib/component-loader.js";

class RequireScript extends HTMLElement {
    get href() {
        return this.getAttribute("href") || this._href;
    }

    set href(newValue) {
        this._href = newValue;
    }

    async connectedCallback() {
        this.script = await loadScript(this.href);
        document.head.appendChild(this.script);
    }

    disconnectedCallback() {
        document.head.removeChild(this.script);
        this.script = null;
    }
}

customElements.define("require-script", RequireScript);