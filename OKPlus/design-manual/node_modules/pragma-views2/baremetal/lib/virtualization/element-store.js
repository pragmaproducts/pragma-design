import {ObjectStore} from "./object-store.js";

export class ElementStore extends ObjectStore {
    constructor(fragment) {
        super();
        this._templateFragment = fragment; 
        this.initStore(1);
    }

    recycleCallback(item) {
        item.__display = item.style.display;
        
        item.style.display = "none";
        item.style.background = "";
        item.style.color = "";
        item.parentElement.removeChild(item);
        return item;
    }

    finilizeCallback(item) {
        item.style.display = item.__display;
    }

    createObjectCallback() {
        return this._templateFragment.cloneNode(true).children[0];
    }
}